<!DOCTYPE HTML>
<html lang="en">

	<head>
    <title>SVG Editor</title>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="svg-editor.js"></script>
        <link type="text/css" rel="stylesheet" href="main.css" />
	<head>

	<body>

	<h1>SVG Editor</h1>
    <div class="page-content">
        <div id="input-area">
            <p>Paste SVG code in the box below and click Load to get an easy-to-edit version of the code</p>

            <div class="section-content">
                <textarea id="input-svg" class="io-box" title="Paste SVG code here" placeholder="Paste SVG code here..." ></textarea>
                <div><input type="submit" id="load-button" value="Load" /></div>
                <div id="error-message"> </div>
            </div>
        </div>
      
        <div id="output-area" style="display:none;">
            <div class="svg-image-container">
                <div class="svg-image" id="full-svg">
                    <svg xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" version="1.0" width="300" height="300">
                        <script type="text/ecmascript"><![CDATA[
                            var resize = function() {
                                var eg = document.getElementById("svg-wrapper");
                                var size = eg.getBBox();
                                console.log("resize " + size.width);
                                if (size.width > 0) {
                                    var scale;
                                    var dx = -size.x;
                                    var dy = -size.y;
                                    
                                    if (size.width > size.height) {
                                        scale = 290 / size.width;
                                        dy -= size.y + 0.5 * (size.width - size.height);
                                    } else {
                                        scale = 290 / size.height;
                                        dx -= size.x + 0.5 * (size.height - size.width);
                                    }
                                    var transform = "translate(5 5) scale(" + scale + ") translate(" + dx + " " + dy + ")";
                                    eg.setAttributeNS(null, "transform", transform);
                                }
                            }
                        ]]></script>
                        <g id="svg-wrapper">
                        </g>
                    </svg>
                </div>
                <div class="svg-image" id="sub-svg"></div>
            </div>
            <div id="output-svg" class="io-box"></div>
        </div>

    </div>
    <div class="footer">This website was created by <a href="http://www.petercollingridge.co.uk">Peter Collingridge</a>.</div>

  </body>
</html>